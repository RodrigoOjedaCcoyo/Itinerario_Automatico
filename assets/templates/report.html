<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Itinerario</title>
</head>

<body>
    <!-- PORTADA -->
    <div class="cover-container" style="background-image: url('{{ cover_url }}'); page-break-after: always;">
        <div class="overlay"></div>
        <div class="pasajero-cover-info">
            {{ pasajero }}<br>
            Del {{ fechas }}
        </div>
        <div class="title-group">
            <div class="title-peru">{{ title_1 }}</div>
            <div class="title-mundo">{{ title_2 }}</div>
        </div>
        <div class="logo-bottom-cover">
            <img src="{{ logo_cover_url }}" alt="Logo">
        </div>
        <div class="duration-box">{{ duracion }}</div>
        <div class="footer-line-cover"></div>
    </div>

    <!-- PÁGINAS DE ITINERARIO -->
    {% for day in days %}
    <div class="page-container" {% if not loop.last %}style="page-break-after: always;" {% endif %}>
        <div class="decor-top-right"></div>
        <div class="decor-bottom-left">
            <div class="logo-container">
                <img src="{{ logo_url }}" alt="Logo">
            </div>
        </div>


        <div class="day-header">
            <h2>DÍA {{ day.numero }}:</h2>
            <h3>{{ day.titulo }}</h3>
        </div>

        <p class="description">{{ day.descripcion }}</p>

        <ul class="highlights-list">
            {% for h in day.highlights %}
            <li class="highlight-item">{{ h }}</li>
            {% endfor %}
        </ul>

        <h4 class="section-title">SERVICIOS QUE INCLUYE:</h4>
        <ul class="services-list">
            {% for s in day.servicios %}
            <li class="service-item">
                <div class="service-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        {{ s.svg | safe }}
                    </svg>
                </div>
                <span class="service-text">{{ s.texto }}</span>
            </li>
            {% endfor %}
        </ul>

        {% if day.servicios_no %}
        <h4 class="section-title">SERVICIOS QUE NO INCLUYE:</h4>
        <ul class="services-list">
            {% for s in day.servicios_no %}
            <li class="service-item">
                <div class="service-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        {{ s.svg | safe }}
                    </svg>
                </div>
                <span class="service-text">{{ s.texto }}</span>
            </li>
            {% endfor %}
        </ul>
        {% endif %}

        <!-- COLLAGE DE IMÁGENES CON EL CAMINO GRUESO -->
        <div class="collage-container">
            <!-- Pin Superior -->
            <svg class="pin-icon pin-end" width="45" height="45" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" fill="white" stroke="#2d3436" stroke-width="2" />
                <circle cx="12" cy="12" r="4" fill="#2d3436" />
            </svg>

            <!-- Serpent Path (Background thick + dotted) -->
            <svg class="serpent-path-svg" width="400" height="750" viewBox="0 0 400 750" preserveAspectRatio="none">
                <!-- Thick Background Path - MÁS CURVATURA -->
                <path d="M200,10 C200,100 20,150 20,300 C20,450 380,450 380,600 C380,700 200,720 200,740" fill="none"
                    stroke="rgba(85, 183, 176, 0.15)" stroke-width="60" stroke-linecap="round" />
                <!-- Dotted Line -->
                <path d="M200,10 C200,100 20,150 20,300 C20,450 380,450 380,600 C380,700 200,720 200,740" fill="none"
                    stroke="#55b7b0" stroke-width="3" stroke-dasharray="10,12" stroke-linecap="round" />
            </svg>

            {% for img in day.images %}
            <div class="circular-img img-{{ loop.index }}" style="background-image: url('{{ img }}');"></div>
            {% endfor %}

            <!-- Pin Inferior -->
            <svg class="pin-icon pin-start" width="45" height="45" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" fill="white" stroke="#2d3436" stroke-width="2" />
                <circle cx="12" cy="12" r="4" fill="#2d3436" />
            </svg>
        </div>
    </div>
    {% endfor %}

    <!-- PÁGINAS DE EXTRAS -->
    <div class="page-container extra-page" style="page-break-after: always;">
        <div class="decor-top-right"></div>
        <div class="decor-bottom-left">
            <div class="logo-container">
                <img src="{{ logo_url }}" alt="Logo">
            </div>
        </div>
        <h2 class="extra-title">INVERSIÓN PARA<br>TU AVENTURA</h2>
        {% if precios.nac %}
        <div class="extra-title" style="margin-top: 30px;">PRECIO NACIONAL</div>
        <div class="extra-subtitle">por persona</div>
        <div class="price-value">S/ {{ precios.nac.monto }}</div>
        {% endif %}
        {% if precios.ext %}
        <div class="extra-title" style="margin-top: 30px;">PRECIO EXTRANJERO</div>
        <div class="extra-subtitle">por persona</div>
        <div class="price-value">$ {{ precios.ext.monto }}</div>
        {% endif %}
    </div>

    <!-- RECOMENDACIONES -->
    <div class="page-container extra-page" style="page-break-after: always;">
        <div class="decor-top-right"></div>
        <div class="decor-bottom-left">
            <div class="logo-container">
                <img src="{{ logo_url }}" alt="Logo">
            </div>
        </div>
        <h2 class="extra-title">RECOMENDACIONES<br>DE VIAJE</h2>
        <div class="recom-grid">
            <h4 class="recom-title">EQUIPAJE</h4>
            <div class="recom-item">Llevar ropa cómoda y abrigada</div>
            <div class="recom-item">Bloqueador solar y lentes de sol</div>
            <div class="recom-item">Zapatos de trekking o cómodos</div>
        </div>
    </div>

    <div class="page-container extra-page">
        <div class="decor-top-right"></div>
        <div class="decor-bottom-left">
            <div class="logo-container">
                <img src="{{ logo_url }}" alt="Logo">
            </div>
        </div>
        <h2 class="extra-title">POLÍTICAS Y<br>CONDICIONES</h2>
        <div class="policy-section">
            <h4 class="policy-title">RESERVAS</h4>
            <p class="policy-text">Depósito del 50% para confirmar.</p>
        </div>
        <div class="llama-circle" style="background-image: url('{{ llama_img }}');"></div>
    </div>
</body>

</html>